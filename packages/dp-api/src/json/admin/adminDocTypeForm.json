{"widgetList":[{"key":13872,"type":"grid","category":"container","icon":"grid","cols":[{"type":"grid-col","category":"container","icon":"grid-col","internal":true,"widgetList":[{"key":105479,"type":"input","icon":"text-field","formItemFlag":true,"options":{"name":"id","label":"dpTable_id","labelAlign":"","type":"text","defaultValue":"","placeholder":"","columnWidth":"200px","size":"","labelWidth":null,"labelHidden":false,"readonly":false,"disabled":false,"hidden":false,"clearable":true,"showPassword":false,"required":true,"requiredHint":"","validation":"","validationHint":"","customClass":[],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"minLength":null,"maxLength":null,"showWordLimit":false,"prefixIcon":"","suffixIcon":"","appendButton":false,"appendButtonDisabled":false,"buttonIcon":"custom-search","onCreated":"","onMounted":"","onInput":"","onChange":"","onFocus":"","onBlur":"","onValidate":"","onAppendButtonClick":""},"id":"input14910"},{"key":72085,"type":"select-group","icon":"select-group-field","formItemFlag":true,"options":{"name":"inheritType","label":"docType_extends","labelAlign":"","defaultValue":"","placeholder":"","prefixIcon":"","columnWidth":"200px","size":"","labelWidth":null,"labelHidden":false,"disabled":false,"hidden":false,"clearable":true,"filterable":false,"allowCreate":false,"remote":false,"automaticDropdown":false,"multiple":false,"multipleLimit":0,"optionItems":[],"required":true,"requiredHint":"","validation":"","validationHint":"","customClass":[],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"onCreated":"","onMounted":"const _this = this\nconst containerTypes = this.getWidgetRef('containerTypes')\nconst childTypes = this.getWidgetRef('childTypes')\n$api.get('/nuxeo/types').then(res => {\n  res = res.data.data\n  const nomalTypeList = ['Folder', 'File']\n  const nomalList = []\n  const otherList = []\n  window.allDocType = res;\n  res.forEach((item) => {\n    const _item = {\n      value:  item.name,\n      label: item.name,\n      isFolder: item.isFolder\n    }\n    if(nomalTypeList.includes(item.name)) {\n      nomalList.push(_item)\n    }\n    else {\n      otherList.push(_item)\n    }\n  })\n  _this.loadOptions([\n    { label: 'nomal', options: nomalList },  \n    { label: 'other', options: otherList },  \n  ])  \n  containerTypes.loadOptions([...nomalList, ...otherList].filter(a => a.isFolder))\n  childTypes.loadOptions([...nomalList, ...otherList].filter(a => a.label !== 'Root'))\n}).catch(err => {\n})","onRemoteQuery":"","onChange":"// step 1 find all options \nconst el = this.getWidgetRef('childTypes');\nconsole.log(\"item change\");\nif(!window.allDocType) return\nconst item = window.allDocType.find( t => t.name === value);\nif(item && !item.isFolder) {\n  el.setHidden(true);\n  el.setValue([]);\n} else {\n  el.setHidden(false);\n  el.setValue([]);\n}\n\n// if value is not folder \n// clean child\n\n","onFocus":"","onBlur":"","onValidate":""},"id":"selectgroup38242"},{"key":105479,"type":"input","icon":"text-field","formItemFlag":true,"options":{"name":"label","label":"dpTable_label","labelAlign":"","type":"text","defaultValue":"","placeholder":"","columnWidth":"200px","size":"","labelWidth":null,"labelHidden":false,"readonly":false,"disabled":false,"hidden":false,"clearable":true,"showPassword":false,"required":true,"requiredHint":"","validation":"","validationHint":"","customClass":"","labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"minLength":null,"maxLength":null,"showWordLimit":false,"prefixIcon":"","suffixIcon":"","appendButton":false,"appendButtonDisabled":false,"buttonIcon":"custom-search","onCreated":"","onMounted":"","onInput":"","onChange":"","onFocus":"","onBlur":"","onValidate":"","onAppendButtonClick":""},"id":"input42296"},{"key":89136,"type":"select","icon":"select-field","formItemFlag":true,"options":{"name":"containerTypes","label":"docType_containerType","labelAlign":"","defaultValue":[],"placeholder":"","columnWidth":"200px","size":"","labelWidth":null,"labelHidden":false,"disabled":false,"hidden":false,"clearable":true,"filterable":true,"allowCreate":false,"remote":false,"automaticDropdown":false,"multiple":true,"multipleLimit":0,"optionItems":[{"label":"select 1","value":1},{"label":"select 2","value":2},{"label":"select 3","value":3}],"required":false,"requiredHint":"","validation":"","validationHint":"","customClass":[],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"onCreated":"","onMounted":"","onRemoteQuery":"","onChange":"","onFocus":"","onBlur":"","onValidate":""},"id":"select67077"},{"key":89136,"type":"select","icon":"select-field","formItemFlag":true,"options":{"name":"childTypes","label":"docType_childType","labelAlign":"","defaultValue":[],"placeholder":"","columnWidth":"200px","size":"","labelWidth":null,"labelHidden":false,"disabled":false,"hidden":false,"clearable":true,"filterable":true,"allowCreate":false,"remote":false,"automaticDropdown":false,"multiple":true,"multipleLimit":0,"optionItems":[{"label":"select 1","value":1},{"label":"select 2","value":2},{"label":"select 3","value":3}],"required":false,"requiredHint":"","validation":"","validationHint":"","customClass":[],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"onCreated":"","onMounted":"","onRemoteQuery":"","onChange":"","onFocus":"","onBlur":"","onValidate":""},"id":"select102418"}],"options":{"name":"gridCol105642","hidden":false,"span":8,"offset":0,"push":0,"pull":0,"responsive":false,"md":12,"sm":12,"xs":12,"customClass":["border-right"]},"id":"grid-col-105642"},{"type":"grid-col","category":"container","icon":"grid-col","internal":true,"widgetList":[{"key":89136,"type":"select","icon":"select-field","formItemFlag":true,"options":{"name":"extraSchemas","label":"docType_addSchema","labelAlign":"","defaultValue":[],"placeholder":"","columnWidth":"200px","size":"","labelWidth":null,"labelHidden":false,"disabled":false,"hidden":false,"clearable":true,"filterable":true,"allowCreate":true,"remote":false,"automaticDropdown":false,"multiple":true,"multipleLimit":0,"optionItems":[],"required":false,"requiredHint":"","validation":"","validationHint":"","customClass":[],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"onCreated":"","onMounted":"const _this = this\n$api.get('/nuxeo/studio/listSchemaIDs').then(res => {\n  res = res.data.data\n  const options = res.map((item) => ({\n      value:  item,\n      label: item\n  }))\n  _this.loadOptions(options)  \n}).catch(err => {\n})","onRemoteQuery":"","onChange":"","onFocus":"","onBlur":"","onValidate":""},"id":"select100449"},{"key":83189,"type":"grid","category":"container","icon":"grid","cols":[{"type":"grid-col","category":"container","icon":"grid-col","internal":true,"widgetList":[{"key":99174,"type":"slot","icon":"slot-field","formItemFlag":false,"options":{"name":"tableForm","label":"tableForm","hidden":false},"id":"slot27066"}],"options":{"name":"gridCol102680","hidden":false,"span":24,"offset":0,"push":0,"pull":0,"responsive":false,"md":12,"sm":12,"xs":12,"customClass":""},"id":"grid-col-102680"}],"options":{"name":"grid82356","hidden":false,"gutter":12,"colHeight":null,"customClass":[]},"id":"grid82356"}],"options":{"name":"gridCol54441","hidden":false,"span":16,"offset":0,"push":0,"pull":0,"responsive":false,"md":12,"sm":12,"xs":12,"customClass":[]},"id":"grid-col-54441"}],"options":{"name":"grid53906","hidden":false,"gutter":12,"colHeight":null,"customClass":[]},"id":"grid53906"}],"formConfig":{"modelName":"formData","refName":"vForm","rulesName":"rules","labelWidth":80,"labelPosition":"top","size":"","labelAlign":"label-left-align","cssCode":".border-right {\n  border-right: 1px solid #ddd;\n}","customClass":[],"functions":"","layoutType":"PC","jsonVersion":3,"onFormCreated":"","onFormMounted":"","onFormDataChange":"","onFormValidate":"","saveRemoteOptions":"never","labelFormUniqueName":true,"dataSources":[]}}