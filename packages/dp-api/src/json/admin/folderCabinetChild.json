{"widgetList":[{"key":74108,"type":"switch","icon":"switch-field","formItemFlag":true,"options":{"name":"isEdit","label":"isEdit","labelAlign":"","defaultValue":false,"columnWidth":"200px","labelWidth":null,"labelHidden":false,"disabled":false,"hidden":true,"customClass":[],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"switchWidth":40,"activeText":"","inactiveText":"","activeColor":null,"inactiveColor":null,"onCreated":"","onMounted":"","onChange":"const hideList = ['folder']\nconst _this = this\nthis.globalOptionData.editReady = false\nif(value) {\n  hideList.forEach(item => {\n    const ref = this.getWidgetRef(item)\n    if (!!ref) {\n      ref.setHidden(true)\n    }\n  })\n  setTimeout(function() {\n    _this.globalOptionData.editReady = true\n  }, 1000);\n} else {\n   hideList.forEach(item => {\n    const ref = this.getWidgetRef(item)\n    if (!!ref) {\n      ref.setHidden(false)\n    }\n  })\n}\n","onValidate":""},"id":"switch84329"},{"key":80927,"type":"input","icon":"text-field","formItemFlag":true,"options":{"name":"label","label":"label","labelAlign":"","type":"text","defaultValue":"","placeholder":"","columnWidth":"200px","size":"","labelWidth":null,"labelHidden":false,"readonly":false,"disabled":false,"hidden":false,"clearable":true,"showPassword":false,"required":true,"requiredHint":"","validation":"","validationHint":"","customClass":[],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"minLength":null,"maxLength":null,"showWordLimit":false,"prefixIcon":"","suffixIcon":"","appendButton":false,"appendButtonDisabled":false,"buttonIcon":"custom-search","onCreated":"","onMounted":"","onInput":"","onChange":"","onFocus":"","onBlur":"","onValidate":"","onAppendButtonClick":""},"id":"input53675"},{"key":83439,"type":"select","icon":"select-field","formItemFlag":true,"options":{"name":"documentType","label":"docType_documentType","labelAlign":"","defaultValue":"","placeholder":"","columnWidth":"200px","size":"","labelWidth":null,"labelHidden":false,"disabled":false,"hidden":false,"clearable":true,"filterable":true,"allowCreate":false,"remote":false,"automaticDropdown":false,"multiple":false,"multipleLimit":0,"optionItems":[],"required":true,"requiredHint":"","validation":"","validationHint":"","customClass":[],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"onCreated":"","onMounted":"this.globalOptionData.fileList = []\nthis.globalOptionData.folderList = []\n$api.post('/nuxeo/types', {}).then(res => {\n  res = res.data.data\n  res.forEach((item) => {\n    const _item = {\n       value: item.name,\n      label: item.name\n    }\n    if(item.isFolder) {\n      this.globalOptionData.folderList.push(_item)\n    } else {\n      this.globalOptionData.fileList.push(_item)\n    }\n  })\n  this.loadOptions(this.globalOptionData.folderList)\n}).catch(err => {\n  console.log(\"error\", err)\n})","onRemoteQuery":"","onChange":"","onFocus":"","onBlur":"","onValidate":""},"id":"select68154"},{"key":15261,"type":"switch","icon":"switch-field","formItemFlag":true,"options":{"name":"folder","label":"isFolder","labelAlign":"","defaultValue":true,"columnWidth":"200px","labelWidth":null,"labelHidden":false,"disabled":false,"hidden":true,"customClass":[],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"switchWidth":40,"activeText":"","inactiveText":"","activeColor":null,"inactiveColor":null,"onCreated":"","onMounted":"","onChange":"// multiple\n// allow\nconst isEditRef = this.getWidgetRef('isEdit')\nconst editReady = !isEditRef.getValue() || this.globalOptionData?.editReady\n\nconst multipleRef = this.getWidgetRef('multiple')\nconst allowRef = this.getWidgetRef('allow')\nconst documentTypeRef = this.getWidgetRef('documentType')\nif(value) {\n  allowRef.setHidden(false)\n  multipleRef.setHidden(true)\n  if(editReady) allowRef.setValue(true)\n  if(editReady) multipleRef.setValue(false)\n  documentTypeRef.loadOptions(this.globalOptionData.folderList)\n  if(editReady) documentTypeRef.setValue('')\n} else {\n  multipleRef.setHidden(false)\n  allowRef.setHidden(true)\n  if(editReady) multipleRef.setValue(true)\n  if(editReady) allowRef.setValue(false)\n  documentTypeRef.loadOptions(this.globalOptionData.fileList)\n  if(editReady) documentTypeRef.setValue('')\n}","onValidate":""},"id":"switch54367"},{"key":27724,"type":"switch","icon":"switch-field","formItemFlag":true,"options":{"name":"allow","label":"allow","labelAlign":"","defaultValue":true,"columnWidth":"200px","labelWidth":null,"labelHidden":false,"disabled":false,"hidden":true,"customClass":[],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"switchWidth":40,"activeText":"","inactiveText":"","activeColor":null,"inactiveColor":null,"onCreated":"","onMounted":"","onChange":"","onValidate":""},"id":"switch917999"},{"key":27723,"type":"switch","icon":"switch-field","formItemFlag":true,"options":{"name":"multiple","label":"multiple","labelAlign":"","defaultValue":true,"columnWidth":"200px","labelWidth":null,"labelHidden":false,"disabled":false,"hidden":false,"customClass":[],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"switchWidth":40,"activeText":"","inactiveText":"","activeColor":null,"inactiveColor":null,"onCreated":"","onMounted":"","onChange":"","onValidate":""},"id":"switch91796"}],"formConfig":{"modelName":"formData","refName":"vForm","rulesName":"rules","labelWidth":80,"labelPosition":"top","size":"","labelAlign":"label-left-align","cssCode":"","customClass":[],"functions":"","layoutType":"PC","jsonVersion":3,"onFormCreated":"","onFormMounted":"","onFormDataChange":"","onFormValidate":"","saveRemoteOptions":"never","labelFormUniqueName":true,"dataSources":[]}}