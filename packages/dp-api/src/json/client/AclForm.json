{"widgetList":[{"key":60885,"type":"select-group","icon":"select-group-field","formItemFlag":true,"options":{"name":"userId","label":"rightDetail_userGroup","labelAlign":"","defaultValue":"","placeholder":"","prefixIcon":"","columnWidth":"200px","size":"","labelWidth":null,"labelHidden":false,"disabled":true,"hidden":false,"clearable":true,"filterable":true,"allowCreate":false,"remote":false,"automaticDropdown":false,"multiple":false,"multipleLimit":0,"optionItems":[],"required":true,"requiredHint":"","validation":"","validationHint":"","customClass":[],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"onCreated":"","onMounted":"const _this = this\nasync function getOptions() {\n  const options = [\n        { value: 'user_groups', label: $i18n.t('user_groups'), options: await groupListFilter() },\n        { value: 'user_users', label: $i18n.t('user_users'), options: await userListFilter() }\n  ]\n  _this.loadOptions(options)\n}\nasync function userListFilter () {\n  const data = await $api.post('/nuxeo/identity/users', {}).then(res => res.data.data)\n  return data.reduce((prev,item) => {\n    if (item.userId) prev.push({\n      label: item.username,\n      value: item.userId\n    })\n    return prev\n  }, [])\n}\nasync function groupListFilter () {\n  const data = await $api.post('/nuxeo/identity/groups', {}).then(res => res.data.data)\n  return data.reduce((prev,item) => {\n    if (item.id) prev.push({\n      label: item.name,\n      value: item.id\n    })\n    return prev\n  }, [])\n}\ngetOptions()","onRemoteQuery":"","onChange":"","onFocus":"","onBlur":"","onValidate":""},"id":"selectgroup90601"},{"key":57328,"type":"select","icon":"select-field","formItemFlag":true,"options":{"name":"shareToUserIds","label":"User","labelAlign":"","defaultValue":[],"placeholder":"","columnWidth":"200px","size":"","labelWidth":null,"labelHidden":false,"disabled":false,"hidden":false,"clearable":true,"filterable":true,"allowCreate":false,"remote":false,"automaticDropdown":false,"multiple":true,"multipleLimit":0,"optionItems":[],"required":false,"requiredHint":"","validation":"","validationHint":"","customClass":[],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"onCreated":"","onMounted":"const _this = this\nasync function getOptions() {\n  const options = await userListFilter()\n  _this.loadOptions(options)\n}\nasync function userListFilter () {\n  const data = await $api.post('/nuxeo/identity/users', {}).then(res => res.data.data)\n  return data.reduce((prev,item) => {\n    if (item.userId) prev.push({\n      label: item.username,\n      value: item.userId\n    })\n    return prev\n  }, [])\n}\ngetOptions()","onRemoteQuery":"","onChange":"","onFocus":"","onBlur":"","onValidate":""},"id":"select60517"},{"key":30924,"type":"select","icon":"select-field","formItemFlag":true,"options":{"name":"permission","label":"dpTable_right","labelAlign":"","defaultValue":"ReadWrite","placeholder":"","columnWidth":"200px","size":"","labelWidth":null,"labelHidden":false,"disabled":false,"hidden":false,"clearable":true,"filterable":true,"allowCreate":false,"remote":false,"automaticDropdown":false,"multiple":false,"multipleLimit":0,"optionItems":[{"label":"Read","value":"Read"},{"label":"Write","value":"ReadWrite"},{"value":"ManageRecord","label":"Manage record"},{"value":"ManageLegalHold","label":"Manage legit hold"},{"label":"Manage","value":"Everything"}],"required":true,"requiredHint":"","validation":"","validationHint":"","customClass":[],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"onCreated":"","onMounted":"","onRemoteQuery":"","onChange":"","onFocus":"","onBlur":"","onValidate":""},"id":"select77632"},{"key":51263,"type":"radio","icon":"radio-field","formItemFlag":true,"options":{"name":"time","label":"dpTable_validityPeriod","labelAlign":"","defaultValue":"permanent","columnWidth":"200px","size":"","displayStyle":"inline","buttonStyle":false,"border":false,"labelWidth":null,"labelHidden":false,"disabled":false,"hidden":false,"optionItems":[],"required":true,"requiredHint":"","validation":"","validationHint":"","customClass":["labelLeft"],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"onCreated":"this.loadOptions([\n  { label: $t('dpTable_permanent'), value: 'permanent'},\n  { label: $t('dpTable_dateBase'), value: 'dateBase'},\n])","onMounted":"","onChange":"const dateRangeRef = this.getWidgetRef('dateRange')\nconsole.log({dateRangeRef})\nif(value === 'permanent') {\n  dateRangeRef.setHidden(true)\n  dateRangeRef.setRequired(false)\n} else {\n  dateRangeRef.setHidden(false)\n  dateRangeRef.setRequired(true)\n}","onValidate":""},"id":"radio26932"},{"key":34672,"type":"date-range","icon":"date-range-field","formItemFlag":true,"options":{"name":"dateRange","label":"dpTable_dateRange","labelAlign":"","type":"daterange","defaultValue":null,"startPlaceholder":"","endPlaceholder":"","columnWidth":"200px","size":"","autoFullWidth":true,"labelWidth":null,"labelHidden":false,"readonly":false,"disabled":false,"hidden":true,"clearable":true,"editable":false,"format":"YYYY-MM-DD HH:mm","valueFormat":"YYYY-MM-DDTHH:mm:ss.000Z","defaultTime":["2000-01-01 00:00:00","2000-01-01 23:59:00"],"required":false,"requiredHint":"","validation":"","validationHint":"","customClass":[],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"onCreated":"","onMounted":"","onChange":"","onFocus":"","onBlur":"","onValidate":""},"id":"daterange97077"},{"key":89905,"type":"checkbox","icon":"checkbox-field","formItemFlag":true,"options":{"name":"isSendEmail","label":"isSendEmail","labelAlign":"","defaultValue":["1"],"columnWidth":"200px","size":"","displayStyle":"inline","buttonStyle":false,"border":false,"labelWidth":null,"labelHidden":true,"disabled":false,"hidden":false,"optionItems":[{"label":"isSendEmail","value":"1"}],"required":false,"requiredHint":"","validation":"","validationHint":"","customClass":[],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"onCreated":"this.loadOptions([\n  { label: $t('dpTable_isSendEmail'), value: '1' }\n])","onMounted":"","onChange":"","onValidate":""},"id":"checkbox85705"},{"key":63984,"type":"switch","icon":"switch-field","formItemFlag":true,"options":{"name":"isEdit","label":"isEdit","labelAlign":"","defaultValue":false,"columnWidth":"200px","labelWidth":null,"labelHidden":false,"disabled":false,"hidden":true,"customClass":[],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"switchWidth":40,"activeText":"","inactiveText":"","activeColor":null,"inactiveColor":null,"onCreated":"","onMounted":"","onChange":"const userIdRef = this.getWidgetRef('userId')\nif(value) {\n  userIdRef.setDisabled(true)\n} \nelse {\n  userIdRef.setDisabled(false)\n}","onValidate":""},"id":"switch74002"},{"key":85756,"type":"switch","icon":"switch-field","formItemFlag":true,"options":{"name":"internalShare","label":"internalShare","labelAlign":"","defaultValue":false,"columnWidth":"200px","labelWidth":null,"labelHidden":false,"disabled":false,"hidden":true,"customClass":[],"labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"switchWidth":40,"activeText":"","inactiveText":"","activeColor":null,"inactiveColor":null,"onCreated":"","onMounted":"","onChange":"const _this = this\nconst showList = ['shareToUserIds','isSendEmail']\nconst hideList = ['userId']\nif(!value) {\n  handleHidden(showList, true)\n  handleHidden(hideList, false)\n} \nelse {\n  handleHidden(showList, false)\n  handleHidden(hideList, true)\n}\n\nfunction handleHidden(list, isHidden) {\n  list.forEach(id => {\n    const idRef = _this.getWidgetRef(id)\n    \n    if(!!idRef) idRef.setHidden(isHidden)\n  })\n}","onValidate":""},"id":"switch37515"}],"formConfig":{"modelName":"formData","refName":"vForm","rulesName":"rules","labelWidth":80,"labelPosition":"top","size":"","labelAlign":"label-left-align","cssCode":".el-form-item.labelLeft{\n  display: flex;\n  align-items: center;\n}\n.el-form-item.labelLeft .el-form-item__label {\n  margin-bottom: unset!important;\n}\n","customClass":[],"functions":"","layoutType":"PC","jsonVersion":3,"onFormCreated":"","onFormMounted":"","onFormDataChange":"","onFormValidate":"","saveRemoteOptions":"never","labelFormUniqueName":true,"dataSources":[]}}